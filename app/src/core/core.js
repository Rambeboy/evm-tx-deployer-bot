function _0x4073(_0x2e9bbc,_0x1784c2){const _0x431c2a=_0x431c();return _0x4073=function(_0x4073ef,_0x1fb12b){_0x4073ef=_0x4073ef-0x1eb;let _0x2016ff=_0x431c2a[_0x4073ef];return _0x2016ff;},_0x4073(_0x2e9bbc,_0x1784c2);}const _0x119db9=_0x4073;function _0x431c(){const _0x2f36c7=['764570MrZspM','onchainCount','tokenApproval','SYMBOL','connectWallet','ABI','GWEIPRICE','Secret\x20Phrase','serializeBigInt','CONTRACTADDRESS','989776dNasKD','populateTransaction','636772joeLli','Trying\x20to\x20Unwrap\x20Token','\x20TX','allowance','WRAPPEDTOKEN','Re-executing\x20transaction\x20due\x20to\x20timeout.','trim','toString','RAWTX','hash','Try\x20To\x20Wrap\x20','18Lteglf','deposit','OTHERUSERADDRESSLIST','length','1900892hoZBHe','504','Transaction\x20confirmation\x20timed\x20out\x20after\x205\x20minutes.','warn','Tx\x20Executed...','buildTxBody','Executing\x20TX...','12MSjEiA','message','RAWTXAMOUNT','getOptimalNonce','Trying\x20to\x20transfer\x20','getBalance','estimateGasWithRetry','Try\x20To\x20Executing\x20RAW\x20Transaction','Error\x20in\x20executing\x20transaction:\x20','getFeeData','Contract','Wallet','Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key','random','formatEther','...\x20Attempt\x20','gwei','TX\x20DATA\x20','\x20Token','14155955VkjFgn','shortMessage','CHAINID','gasPrice','deployedContractTx','delay','MaxUint256','RAWTXCONTRACTADDRESS','wallet','includes','provider','49ghrlSI','determineType','indexOf','\x20to\x20','Getting\x20Wallet\x20Balance\x20of\x20','executeTx','90905wXHEcH','\x20of\x20','getTransactionCount','randomFloat','Failed\x20to\x20estimate\x20gas\x20after\x20','estimateGas','Try\x20To\x20Executing\x20Deployed\x20Contract\x20Transaction','tx/','Wallet\x20connected\x20','address','withdraw','parseEther','parseUnits','Token\x20Approved','64339YGAReA','info','stringify','\x20attempts.','acc','Tx\x20Executed\x20\x0a','gasLimit','reason','balance','race','EXPLORER','balanceOf','Tx\x20Executed\x20and\x20Confirmed\x20\x0a','Account\x20Type\x20:\x20','Private\x20Key','wait','3GxbaTx','TXAMOUNTMIN','TXAMOUNTMAX'];_0x431c=function(){return _0x2f36c7;};return _0x431c();}(function(_0x84063,_0x4b214c){const _0xbd09b4=_0x4073,_0xac277b=_0x84063();while(!![]){try{const _0x4be594=parseInt(_0xbd09b4(0x1fb))/0x1+-parseInt(_0xbd09b4(0x21a))/0x2*(parseInt(_0xbd09b4(0x20b))/0x3)+parseInt(_0xbd09b4(0x229))/0x4+-parseInt(_0xbd09b4(0x1ed))/0x5*(parseInt(_0xbd09b4(0x230))/0x6)+-parseInt(_0xbd09b4(0x24e))/0x7*(parseInt(_0xbd09b4(0x218))/0x8)+-parseInt(_0xbd09b4(0x225))/0x9*(parseInt(_0xbd09b4(0x20e))/0xa)+parseInt(_0xbd09b4(0x243))/0xb;if(_0x4be594===_0x4b214c)break;else _0xac277b['push'](_0xac277b['shift']());}catch(_0x17327c){_0xac277b['push'](_0xac277b['shift']());}}}(_0x431c,0x6e88f));import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import _0x334108 from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{Config}from'../../config/config.js';import{ERC20TOKEN}from'./contract/erc20_token.js';import{DEPLOYEDTOKEN}from'./contract/deployed_token.js';export default class Core{constructor(_0x207b1d){const _0x217776=_0x4073;this[_0x217776(0x1ff)]=_0x207b1d,this[_0x217776(0x24d)]=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC[_0x217776(0x245)]);}async[_0x119db9(0x212)](){const _0x2b39f1=_0x119db9;try{const _0xf150da=this[_0x2b39f1(0x1ff)],_0x3b5201=privateKey[_0x2b39f1(0x250)](this[_0x2b39f1(0x1ff)]);await Helper[_0x2b39f1(0x248)](0x1f4,this['acc'],'Connecting\x20to\x20Account\x20:\x20'+(_0x3b5201+0x1),this);const _0x10f376=Helper[_0x2b39f1(0x24f)](_0xf150da);_0x334108[_0x2b39f1(0x1fc)](_0x2b39f1(0x208)+_0x10f376);if(_0x10f376==_0x2b39f1(0x215))this[_0x2b39f1(0x24b)]=ethers[_0x2b39f1(0x23b)]['fromPhrase'](_0xf150da,this['provider']);else{if(_0x10f376==_0x2b39f1(0x209))this[_0x2b39f1(0x24b)]=new ethers[(_0x2b39f1(0x23b))](_0xf150da[_0x2b39f1(0x220)](),this[_0x2b39f1(0x24d)]);else throw Error(_0x2b39f1(0x23c));}this[_0x2b39f1(0x1f6)]=this[_0x2b39f1(0x24b)][_0x2b39f1(0x1f6)],this[_0x2b39f1(0x20f)]=await this[_0x2b39f1(0x24d)][_0x2b39f1(0x1ef)](this[_0x2b39f1(0x1f6)]),await Helper['delay'](0x1f4,this[_0x2b39f1(0x1ff)],_0x2b39f1(0x1f5)+JSON[_0x2b39f1(0x1fd)](this[_0x2b39f1(0x24b)][_0x2b39f1(0x1f6)]),this);}catch(_0x3ba60a){throw _0x3ba60a;}}async[_0x119db9(0x235)](_0xf1e67=![]){const _0x568da0=_0x119db9;try{!_0xf1e67&&await Helper[_0x568da0(0x248)](0x1f4,this['acc'],_0x568da0(0x1eb)+this[_0x568da0(0x24b)]['address'],this);const _0x4fd3bc=ethers[_0x568da0(0x23e)](await this[_0x568da0(0x24d)]['getBalance'](this[_0x568da0(0x24b)]['address']));this[_0x568da0(0x203)]={'ETH':_0x4fd3bc},await Helper[_0x568da0(0x248)](0x1f4,this['acc'],'Balance\x20updated',this);}catch(_0xff4553){throw _0xff4553;}}async[_0x119db9(0x226)](){const _0x985ef6=_0x119db9;try{await Helper[_0x985ef6(0x248)](0x1f4,this[_0x985ef6(0x1ff)],_0x985ef6(0x224)+RPC['SYMBOL'],this);const _0x415e1d=new ethers[(_0x985ef6(0x23a))](ERC20TOKEN[_0x985ef6(0x21e)],ERC20TOKEN[_0x985ef6(0x213)],this[_0x985ef6(0x24b)]),_0xebcdd2=ethers[_0x985ef6(0x1f8)](Helper[_0x985ef6(0x1f0)](Config[_0x985ef6(0x20c)],Config[_0x985ef6(0x20d)])['toString']()),_0x821c35=_0x415e1d[_0x985ef6(0x226)][_0x985ef6(0x219)](),_0x29ae6d=await this[_0x985ef6(0x22e)](_0x821c35,_0xebcdd2);await this['executeTx'](_0x29ae6d);}catch(_0x2b2d26){throw _0x2b2d26;}}async['withdraw'](){const _0x398d9c=_0x119db9;try{await Helper[_0x398d9c(0x248)](0x1f4,this['acc'],_0x398d9c(0x21b),this);const _0x47cbe1=new ethers[(_0x398d9c(0x23a))](ERC20TOKEN[_0x398d9c(0x21e)],ERC20TOKEN['ABI'],this[_0x398d9c(0x24b)]),_0x23f446=await _0x47cbe1[_0x398d9c(0x206)](this[_0x398d9c(0x24b)][_0x398d9c(0x1f6)]),_0x486d02=_0x23f446,_0x5690a0=ethers[_0x398d9c(0x23e)](_0x486d02);_0x334108['info']('Unwrapping\x20'+_0x5690a0+_0x398d9c(0x242));const _0x37d5a3=_0x47cbe1[_0x398d9c(0x1f7)]['populateTransaction'](_0x486d02),_0x122be0=await this[_0x398d9c(0x22e)](_0x37d5a3,0x0);await this[_0x398d9c(0x1ec)](_0x122be0);}catch(_0x12f2cc){throw _0x12f2cc;}}async['rawTx'](){const _0x1039ac=_0x119db9;try{await Helper['delay'](0x1f4,this[_0x1039ac(0x1ff)],_0x1039ac(0x237),this);const _0x394691=ethers['parseEther'](Config[_0x1039ac(0x232)][_0x1039ac(0x221)]()),_0x5866df=privateKey['indexOf'](this[_0x1039ac(0x1ff)]),_0x51e84e={'data':Config[_0x1039ac(0x222)][_0x5866df],'to':Config[_0x1039ac(0x24a)]},_0x29a9b4=await this[_0x1039ac(0x22e)](_0x51e84e,_0x394691==0x0?0x0:_0x394691);await this[_0x1039ac(0x1ec)](_0x29a9b4);}catch(_0x103364){throw _0x103364;}}async[_0x119db9(0x247)](){const _0x352198=_0x119db9;try{await Helper[_0x352198(0x248)](0x1f4,this[_0x352198(0x1ff)],_0x352198(0x1f3),this);const _0x39a321=new ethers[(_0x352198(0x23a))](DEPLOYEDTOKEN[_0x352198(0x217)],DEPLOYEDTOKEN[_0x352198(0x213)],this['wallet']),_0xff0737=ethers[_0x352198(0x1f8)]('1');await this['tokenApproval'](DEPLOYEDTOKEN['CONTRACTADDRESS'],this['address']);const _0x2e7127=await _0x39a321['ping'][_0x352198(0x219)](_0xff0737),_0x4fbd75=await this[_0x352198(0x22e)](_0x2e7127,_0xff0737);await this[_0x352198(0x1ec)](_0x4fbd75);}catch(_0x595279){throw _0x595279;}}async['transfer'](_0x30932c=!![],_0x1f4730=undefined){const _0x48e97f=_0x119db9,_0x4c43a3=Helper[_0x48e97f(0x1f0)](Config['TXAMOUNTMIN'],Config[_0x48e97f(0x20d)]),_0x22da0c=ethers['parseEther'](_0x4c43a3[_0x48e97f(0x221)]());try{let _0x1b1112;if(_0x30932c)await Helper['delay'](0x1f4,this[_0x48e97f(0x1ff)],_0x48e97f(0x234)+_0x4c43a3+'\x20'+RPC[_0x48e97f(0x211)]+_0x48e97f(0x251)+this[_0x48e97f(0x1f6)],this),_0x1b1112=await this[_0x48e97f(0x22e)](undefined,_0x22da0c,_0x1f4730??this['address']);else{if(Config[_0x48e97f(0x227)][_0x48e97f(0x228)]==0x1)throw Error('Please\x20set\x20OTHERUSERADDRESSLIST\x20on\x20config\x20file');const _0x4555fd=Config['OTHERUSERADDRESSLIST'][Helper[_0x48e97f(0x23d)](Config['OTHERUSERADDRESSLIST']-0x1)];await Helper['delay'](0x1f4,this['acc'],_0x48e97f(0x234)+_0x4c43a3+RPC['SYMBOL']+_0x48e97f(0x251)+_0x4555fd,this),_0x1b1112=await this['buildTxBody'](undefined,_0x22da0c,_0x4555fd);}await this[_0x48e97f(0x1ec)](_0x1b1112);}catch(_0x57aaf3){throw _0x57aaf3;}}async[_0x119db9(0x1ec)](_0x249851){const _0x513646=_0x119db9;try{_0x334108[_0x513646(0x1fc)](_0x513646(0x241)+JSON[_0x513646(0x1fd)](Helper[_0x513646(0x216)](_0x249851)));const _0x1fcc12=RPC[_0x513646(0x205)];await Helper[_0x513646(0x248)](0x1f4,this[_0x513646(0x1ff)],_0x513646(0x22f),this);const _0x2c2a8e=await this[_0x513646(0x24b)]['sendTransaction'](_0x249851);if(Config['WAITFORBLOCKCONFIRMATION']){_0x334108[_0x513646(0x1fc)](_0x513646(0x200)+_0x1fcc12+_0x513646(0x1f4)+_0x2c2a8e[_0x513646(0x223)]),await Helper['delay'](0x1f4,this[_0x513646(0x1ff)],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0x5e7a14=await this['waitWithTimeout'](_0x2c2a8e,0x5*0x3c*0x1f4);_0x334108[_0x513646(0x1fc)]('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON[_0x513646(0x1fd)](_0x5e7a14)),await Helper['delay'](0xbb8,this['acc'],_0x513646(0x207)+_0x1fcc12+_0x513646(0x1f4)+_0x5e7a14[_0x513646(0x223)],this);}else await Helper['delay'](0x1f4,this[_0x513646(0x1ff)],_0x513646(0x22d),this),await Helper['delay'](0xbb8,this[_0x513646(0x1ff)],_0x513646(0x200)+_0x1fcc12+'tx/'+_0x2c2a8e[_0x513646(0x223)],this);await this[_0x513646(0x235)](),this[_0x513646(0x20f)]=await this[_0x513646(0x24d)][_0x513646(0x1ef)](this[_0x513646(0x1f6)]);}catch(_0x4ea20d){if(_0x4ea20d[_0x513646(0x231)][_0x513646(0x24c)](_0x513646(0x22a)))await Helper['delay'](0x1388,this[_0x513646(0x1ff)],_0x4ea20d[_0x513646(0x231)],this);else{_0x334108['error'](_0x513646(0x238)+_0x4ea20d[_0x513646(0x231)]);throw _0x4ea20d;}}}async[_0x119db9(0x233)](){const _0x3ff3b9=_0x119db9;try{const _0x435ea8=await this[_0x3ff3b9(0x24d)][_0x3ff3b9(0x1ef)](this['address'],'latest'),_0x1503ff=await this[_0x3ff3b9(0x24d)][_0x3ff3b9(0x1ef)](this[_0x3ff3b9(0x1f6)],'pending'),_0xcf6098=_0x1503ff>_0x435ea8?_0x1503ff:_0x435ea8;return _0xcf6098;}catch(_0x4c6068){throw _0x4c6068;}}async[_0x119db9(0x236)](_0x92f689,_0x1fcde5,_0xc92566,_0x597eeb=![],_0xc5c88c=0x3,_0x37013d=0xbb8){const _0x2dd2d7=_0x119db9;for(let _0xe418c8=0x0;_0xe418c8<_0xc5c88c;_0xe418c8++){try{_0x334108[_0x2dd2d7(0x1fc)]('Estimating\x20Gas\x20for\x20'+_0xc92566+_0x2dd2d7(0x21c));const _0x36d457=await this['provider'][_0x2dd2d7(0x1f2)]({'from':this['address'],'to':_0x92f689,'value':_0x1fcde5,'data':_0xc92566});return _0x36d457;}catch(_0x58d232){if(_0x597eeb)throw _0x58d232;else{await Helper[_0x2dd2d7(0x248)](_0x37013d,this['acc'],(_0x58d232[_0x2dd2d7(0x202)]??_0x58d232[_0x2dd2d7(0x244)])+_0x2dd2d7(0x23f)+(_0xe418c8+0x1)+_0x2dd2d7(0x1ee)+_0xc5c88c,this);if(_0xe418c8===_0xc5c88c-0x1)throw Error(_0x2dd2d7(0x1f1)+_0xc5c88c+_0x2dd2d7(0x1fe));}}}}async[_0x119db9(0x22e)](_0x76ad4d,_0x52025e=0x0,_0x2556ea,_0x3790eb=!![]){const _0x5c5678=_0x119db9,_0x3c2b1a=await this['getOptimalNonce'](),_0x4b7dfc=_0x2556ea??_0x76ad4d?.['to'],_0x3c6f0a=_0x76ad4d?.['data'],_0x14da29=await this['provider'][_0x5c5678(0x239)](),_0xf8b4f6=ethers[_0x5c5678(0x1f9)](Config[_0x5c5678(0x214)][_0x5c5678(0x221)](),_0x5c5678(0x240)),_0x92da12={'to':_0x4b7dfc,'from':this['address'],'value':_0x52025e,'fee':_0x14da29,'gasPrice':_0x14da29[_0x5c5678(0x246)]>_0xf8b4f6?_0x14da29[_0x5c5678(0x246)]:_0xf8b4f6,'nonce':_0x3c2b1a,'data':_0x3c6f0a};if(_0x3790eb){const _0x11e639=await this['estimateGasWithRetry'](_0x4b7dfc,_0x52025e,_0x3c6f0a);_0x92da12[_0x5c5678(0x201)]=_0x11e639;}return _0x92da12;}async[_0x119db9(0x210)](_0x76cf0,_0x3d158d){const _0x1dfdb2=_0x119db9,_0x31d940=new ethers[(_0x1dfdb2(0x23a))](_0x76cf0,DEPLOYEDTOKEN[_0x1dfdb2(0x213)],this[_0x1dfdb2(0x24b)]),_0x1c7f70=await _0x31d940[_0x1dfdb2(0x21d)](this[_0x1dfdb2(0x1f6)],_0x3d158d);if(Number(_0x1c7f70)<Config[_0x1dfdb2(0x20d)]){await Helper[_0x1dfdb2(0x248)](0x1f4,this[_0x1dfdb2(0x1ff)],'Try\x20To\x20Approving\x20Token\x20Spend',this);const _0x321abd=await _0x31d940['approve'](_0x3d158d,ethers[_0x1dfdb2(0x249)]);await _0x321abd[_0x1dfdb2(0x20a)](),await Helper['delay'](0x1f4,this[_0x1dfdb2(0x1ff)],_0x1dfdb2(0x1fa),this);}}async['waitWithTimeout'](_0x40707f,_0x1d6f8d){const _0x38da80=_0x119db9;let _0x563754=![];const _0x4b6c82=new Promise((_0x375e42,_0x2f2879)=>{setTimeout(()=>{const _0x32a530=_0x4073;_0x563754=!![],_0x2f2879(new Error(_0x32a530(0x22b)));},_0x1d6f8d);});try{const _0x2c6de2=await Promise[_0x38da80(0x204)]([_0x40707f[_0x38da80(0x20a)](),_0x4b6c82]);return _0x2c6de2;}catch(_0x41585b){if(_0x563754)return _0x334108[_0x38da80(0x22c)](_0x38da80(0x21f)),this['executeTx'](_0x40707f);throw _0x41585b;}}}